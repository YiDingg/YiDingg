<!DOCTYPE html><html><head>
      <title>Common Emitter Amplifier Experiment</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\13081\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.18\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview {
  font-size: 11pt;
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="common-emitter-amplifier-experiment">Common Emitter Amplifier Experiment </h1>
<blockquote>
<p>[!Note|style:callout|label:Infor]<br>
Initially published by YiDingg at 23:45 on 2025-03-25 in Beijing.</p>
</blockquote>
<h2 id="intro">Intro </h2>
<ul>
<li>Time: 2025-03-29</li>
<li>Location: Beijing</li>
<li>Author: Yi Ding</li>
</ul>
<p>In this experiment, we will calculate, simulate and conduct a practical test of the CE (Common Emitter) amplifier circuit. The schematic is shown below:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-13-35-56_Common Emitter Amplifier Experiment.png"></div>
<p>Considering the NPN BJT that we have and that the LTspice simulation library also has, we will use the BC547C transistor.</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-15-22-16_Common Emitter Amplifier Experiment.png"></div>
<h2 id="1---static-chara-simulation">1 - Static Chara Simulation </h2>
<p>Below is the static characteristic simulation results of BC547C (NPN).</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-13-57-47_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-14-20-47_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-14-19-17_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-12-40-25_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-12-40-54_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-12-46-14_Common Emitter Amplifier Experiment.png"></div>
<h2 id="2----extracting-spice-model-parameters">2 -  Extracting SPICE Model Parameters </h2>
<p>Below is the SPICE model of BC547C in LTspice:</p>
<pre data-role="codeBlock" data-info="SPICE" class="language-spice SPICE"><code>.model bc547c npn(is=4.679e-14 nf=1.01 ise=2.642e-15 ne=1.581 bf=458.7 ikf=0.1371 vaf=52.64 nr=1.019 isc=2.337e-14 nc=1.164 br=11.57 ikr=0.1144 var=364.5 rb=1 irb=1.00e-06 rbm=1 re=0.2598 rc=1 xtb=0 eg=1.11 xti=3 cje=1.229e-11 vje=0.5591 mje=0.3385 tf=4.689e-10 xtf=160 vtf=2.828 itf=0.8842 ptf=0 cjc=4.42e-12 vjc=0.1994 mjc=0.2782 xcjc=0.6193 tr=1.00e-32 cjs=0 vjs=0.75 mjs=0.333 fc=0.7936 vceo=45 icrating=100m mfg=nxp)

% or rewrite it to improve readability
.model bc547c npn(
is=4.679e-14 nf=1.01 ise=2.642e-15 ne=1.581 bf=458.7 ikf=0.1371 vaf=52.64 
nr=1.019 isc=2.337e-14 nc=1.164 br=11.57 ikr=0.1144 var=364.5 rb=1 irb=1.00e-06 
rbm=1 re=0.2598 rc=1 xtb=0 eg=1.11 xti=3 cje=1.229e-11 vje=0.5591 mje=0.3385 
tf=4.689e-10 xtf=160 vtf=2.828 itf=0.8842 ptf=0 cjc=4.42e-12 vjc=0.1994 mjc=0.2782 
xcjc=0.6193 tr=1.00e-32 cjs=0 vjs=0.75 mjs=0.333 fc=0.7936 vceo=45 icrating=100m mfg=nxp
)
</code></pre><p>We extract a few parameters that we've learned so far. They are:</p>
<pre data-role="codeBlock" data-info="matlab" class="language-matlab matlab"><code>is<span class="token operator">=</span><span class="token number">4.679e-14</span>    <span class="token comment">% I_S, transport saturation current</span>
nf<span class="token operator">=</span><span class="token number">1.01</span>         <span class="token comment">% nf*V_T, forward mode ideality factor</span>
bf<span class="token operator">=</span><span class="token number">458.7</span>        <span class="token comment">% ideal maximum forward beta</span>
vaf<span class="token operator">=</span><span class="token number">52.64</span>       <span class="token comment">% V_A, forward early voltage</span>
rb<span class="token operator">=</span><span class="token number">1</span>            <span class="token comment">% R_B0, base resistance</span>
irb<span class="token operator">=</span><span class="token number">1.00e-06</span>    <span class="token comment">% the base current where R_B0 drops by 50 percent</span>
rbm<span class="token operator">=</span><span class="token number">1</span>           <span class="token comment">% R_B0_min, the minimum base resistance in high base current situation</span>
re<span class="token operator">=</span><span class="token number">0.2598</span>       <span class="token comment">% R_E0, emitter resistance</span>
rc<span class="token operator">=</span><span class="token number">1</span>            <span class="token comment">% R_C0, collector resistance</span>
</code></pre><p>Therefore, we have:</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="center" columnspacing="0em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>I</mi><mi>S</mi></msub><mo>=</mo><mn>4.679</mn><mo>×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>14</mn></mrow></msup><mtext>&nbsp;</mtext><mi mathvariant="normal">A</mi></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>n</mi><mi>f</mi></msub><mo>=</mo><mn>1.01</mn><mo separator="true">,</mo><mtext>&nbsp;</mtext><mi>β</mi><mo>=</mo><mn>458.7</mn><mo separator="true">,</mo><mtext>&nbsp;</mtext><msub><mi>V</mi><mi>A</mi></msub><mo>=</mo><mn>52.64</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mtext>&nbsp;</mtext></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>R</mi><mrow><mi>B</mi><mn>0</mn></mrow></msub><mo>=</mo><mn>1</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">Ω</mi><mo separator="true">,</mo><mtext>&nbsp;</mtext><msub><mi>R</mi><mrow><mi>E</mi><mn>0</mn></mrow></msub><mo>=</mo><mn>0.2598</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">Ω</mi><mo separator="true">,</mo><mtext>&nbsp;</mtext><msub><mi>R</mi><mrow><mi>C</mi><mn>0</mn></mrow></msub><mo>=</mo><mn>1</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">Ω</mi></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{gather}
I_S = 4.679 \times 10^{-14} \ \mathrm{A}\\
n_f = 1.01,\ 
\beta = 458.7,\ 
V_A = 52.64 \ \mathrm{V},\ 
\\
R_{B0} = 1 \ \Omega,\ 
R_{E0} = 0.2598 \ \Omega,\ 
R_{C0} = 1 \ \Omega
\end{gather}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.5241em;vertical-align:-2.0121em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5121em;"><span style="top:-4.6479em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">4.679</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">14</span></span></span></span></span></span></span></span></span><span class="mspace">&nbsp;</span><span class="mord mathrm">A</span></span></span><span style="top:-3.1479em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.01</span><span class="mpunct">,</span><span class="mspace">&nbsp;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">458.7</span><span class="mpunct">,</span><span class="mspace">&nbsp;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">52.64</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace">&nbsp;</span></span></span><span style="top:-1.6479em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace">&nbsp;</span><span class="mord">Ω</span><span class="mpunct">,</span><span class="mspace">&nbsp;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.2598</span><span class="mspace">&nbsp;</span><span class="mord">Ω</span><span class="mpunct">,</span><span class="mspace">&nbsp;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace">&nbsp;</span><span class="mord">Ω</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.0121em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5121em;"><span style="top:-4.5121em;"><span class="pstrut" style="height:2.8641em;"></span><span class="eqn-num"></span></span><span style="top:-3.0121em;"><span class="pstrut" style="height:2.8641em;"></span><span class="eqn-num"></span></span><span style="top:-1.5121em;"><span class="pstrut" style="height:2.8641em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.0121em;"><span></span></span></span></span></span></span></span></span></p>
<h2 id="3---dc-operation-point">3 - DC Operation Point </h2>
<h3 id="31---theoretical">3.1 - Theoretical </h3>
<p>Now, we will calculate the DC operating point and AC small signal parameters of the CE amplifier circuit.</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-15-22-35_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-15-09-30_Common Emitter Amplifier Experiment.png"></div>
<p>Therefore, the dc operating point is:<br>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="center" columnspacing="0em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>I</mi><mi>C</mi></msub><mo>=</mo><mn>2.2518</mn><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">A</mi></mrow><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>I</mi><mi>B</mi></msub><mo>=</mo><mn>4.9091</mn><mtext>&nbsp;</mtext><mrow><mi>μ</mi><mi mathvariant="normal">A</mi></mrow></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>V</mi><mrow><mi>C</mi><mi>E</mi></mrow></msub><mo>=</mo><mn>1.9550</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>V</mi><mrow><mi>B</mi><mi>E</mi></mrow></msub><mo>=</mo><mn>0.6440</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>V</mi><mi>C</mi></msub><mo>=</mo><mn>2.7459</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>V</mi><mi>B</mi></msub><mo>=</mo><mn>1.4359</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>V</mi><mi>E</mi></msub><mo>=</mo><mn>0.7910</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{gather}
I_C = 2.2518 \ \mathrm{mA},\quad 
I_B = 4.9091 \ \mathrm{\mu A} 
\\
V_{CE} = 1.9550 \ \mathrm{V},\quad
V_{BE} = 0.6440 \ \mathrm{V}
\\
V_C = 2.7459 \ \mathrm{V},\quad
V_B = 1.4359 \ \mathrm{V},\quad
V_E = 0.7910 \ \mathrm{V},\quad
\end{gather}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.5em;vertical-align:-2em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2.2518</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">mA</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">4.9091</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathnormal">μ</span><span class="mord mathrm">A</span></span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">CE</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.9550</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">BE</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.6440</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2.7459</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.4359</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.7910</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-3em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-1.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span></span></span></span></p>
<p>Here are the MATLAB codes for the calculations:</p>
<pre data-role="codeBlock" data-info="matlab" class="language-matlab matlab"><code><span class="token comment">% 线电期中实验：CE Amp</span>
clc<span class="token punctuation">,</span> clear<span class="token punctuation">,</span> close all

<span class="token comment">% 电路参数</span>
R_1 <span class="token operator">=</span> <span class="token number">24e3</span><span class="token punctuation">;</span>
R_2 <span class="token operator">=</span> <span class="token number">10e3</span><span class="token punctuation">;</span>
R_C1 <span class="token operator">=</span> <span class="token number">1e3</span><span class="token punctuation">;</span>
R_E1 <span class="token operator">=</span> <span class="token number">51</span><span class="token punctuation">;</span>
R_E2 <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>

<span class="token comment">% SPICE 参数</span>
Vcc <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
I_S <span class="token operator">=</span> <span class="token number">4.679e-14</span><span class="token punctuation">;</span>
R_B0 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
R_C0 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
R_E0 <span class="token operator">=</span> <span class="token number">0.2598</span><span class="token punctuation">;</span>
beta <span class="token operator">=</span> <span class="token number">458.7</span><span class="token punctuation">;</span>
n_f <span class="token operator">=</span> <span class="token number">1.01</span><span class="token punctuation">;</span>
V_A <span class="token operator">=</span> <span class="token number">52.64</span><span class="token punctuation">;</span>

<span class="token comment">% 其它参数</span>
R_E_all <span class="token operator">=</span> R_E0 <span class="token operator">+</span> R_E1 <span class="token operator">+</span> R_E2
R_all <span class="token operator">=</span> R_C0 <span class="token operator">+</span> R_C1 <span class="token operator">+</span> R_E0 <span class="token operator">+</span> R_E1 <span class="token operator">+</span> R_E2
V_T <span class="token operator">=</span> <span class="token number">26e-3</span><span class="token punctuation">;</span>


tv_Ic <span class="token operator">=</span> Vcc<span class="token operator">/</span>R_all<span class="token operator">*</span><span class="token number">1000</span>
tv_Ib <span class="token operator">=</span> tv_Ic<span class="token operator">/</span>beta<span class="token operator">*</span><span class="token number">1000</span>

func_I_C <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>V_BE<span class="token punctuation">,</span> V_CE<span class="token punctuation">)</span> I_S<span class="token operator">*</span><span class="token function">exp</span><span class="token punctuation">(</span>V_BE<span class="token operator">/</span><span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> V_CE<span class="token operator">/</span>V_A<span class="token punctuation">)</span>
array_V_BE <span class="token operator">=</span> <span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">670</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
array_V_CE <span class="token operator">=</span> <span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
matrix_I_C <span class="token operator">=</span> <span class="token function">func_I_C</span><span class="token punctuation">(</span>array_V_BE<span class="token punctuation">,</span> array_V_CE<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">MyPlot</span><span class="token punctuation">(</span>array_V_CE<span class="token punctuation">,</span> matrix_I_C<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

V_B <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span> <span class="token punctuation">(</span>Vcc <span class="token operator">-</span> I_C<span class="token operator">*</span>R_1<span class="token operator">/</span>beta<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> R_1<span class="token operator">/</span>R_2<span class="token punctuation">)</span>
eq <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span> I_C <span class="token operator">-</span> I_S <span class="token operator">.*</span> <span class="token function">exp</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token function">V_B</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span> <span class="token operator">-</span> I_C<span class="token operator">.*</span>R_E_all<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span>  <span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Vcc <span class="token operator">-</span> I_C<span class="token operator">.*</span>R_all<span class="token punctuation">)</span><span class="token operator">/</span>V_A<span class="token punctuation">)</span>
range_I_C <span class="token operator">=</span> <span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5e-3</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stc <span class="token operator">=</span> <span class="token function">MyPlot_2window</span><span class="token punctuation">(</span>range_I_C<span class="token punctuation">,</span> <span class="token function">eq</span><span class="token punctuation">(</span>range_I_C<span class="token punctuation">)</span><span class="token punctuation">,</span> range_I_C<span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">eq</span><span class="token punctuation">(</span>range_I_C<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>ax1<span class="token punctuation">.</span>YLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
stc<span class="token punctuation">.</span>ax1<span class="token punctuation">.</span>XLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token function">range_I_C</span><span class="token punctuation">(</span><span class="token keyword keyword-end">end</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>ax2<span class="token punctuation">.</span>YLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
stc<span class="token punctuation">.</span>ax2<span class="token punctuation">.</span>XLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token function">range_I_C</span><span class="token punctuation">(</span><span class="token keyword keyword-end">end</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>ax2<span class="token punctuation">.</span>YScale <span class="token operator">=</span> <span class="token string">'log'</span><span class="token punctuation">;</span>

I_C <span class="token operator">=</span> <span class="token function">fzero</span><span class="token punctuation">(</span>eq<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">4e-3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">disp</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'I_C = '</span><span class="token punctuation">,</span> <span class="token function">num2str</span><span class="token punctuation">(</span>I_C<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">'%.8f'</span><span class="token punctuation">)</span> <span class="token string">' mA'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  

I_B <span class="token operator">=</span> I_C<span class="token operator">/</span>beta
<span class="token function">V_B</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span>
V_C <span class="token operator">=</span> Vcc <span class="token operator">-</span> I_C<span class="token operator">*</span><span class="token punctuation">(</span>R_C0 <span class="token operator">+</span> R_C1<span class="token punctuation">)</span>
V_E <span class="token operator">=</span> I_C<span class="token operator">*</span>R_E_all
V_BE <span class="token operator">=</span> <span class="token function">V_B</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span> <span class="token operator">-</span> V_E
V_CE <span class="token operator">=</span> V_C <span class="token operator">-</span> V_E
</code></pre><h3 id="32---simulated">3.2 - Simulated </h3>
<p>Now, we perform the DC operating point simulation in LTspice. The results are shown below:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-15-31-53_Common Emitter Amplifier Experiment.png"></div>
<p>Rewrite the simulation result, the dc operating point is:<br>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="center" columnspacing="0em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">d</mi><mo>:</mo><mtext>&nbsp;</mtext></mrow><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>I</mi><mi>C</mi></msub><mo>=</mo><mn>2.2544</mn><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">A</mi></mrow><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>I</mi><mi>B</mi></msub><mo>=</mo><mn>4.8986</mn><mtext>&nbsp;</mtext><mrow><mi>μ</mi><mi mathvariant="normal">A</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>V</mi><mrow><mi>C</mi><mi>E</mi></mrow></msub><mo>=</mo><mn>1.9526</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>V</mi><mrow><mi>B</mi><mi>E</mi></mrow></msub><mo>=</mo><mn>0.6430</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>V</mi><mi>C</mi></msub><mo>=</mo><mn>2.7456</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>V</mi><mi>B</mi></msub><mo>=</mo><mn>1.4360</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>V</mi><mi>E</mi></msub><mo>=</mo><mn>0.7930</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace></mrow></mstyle></mtd></mtr></mtable></mrow></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{gather}
\mathrm{simulated:\ }
\begin{cases}
I_C = 2.2544 \ \mathrm{mA},\quad 
I_B = 4.8986 \ \mathrm{\mu A} 
\\
V_{CE} = 1.9526 \ \mathrm{V},\quad
V_{BE} = 0.6430 \ \mathrm{V}
\\
V_C = 2.7456 \ \mathrm{V},\quad
V_B = 1.4360 \ \mathrm{V},\quad
V_E = 0.7930 \ \mathrm{V},\quad
\end{cases}
\end{gather}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.62em;vertical-align:-2.06em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.56em;"><span style="top:-4.56em;"><span class="pstrut" style="height:4.41em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">simulated</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace">&nbsp;</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-2.2em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.192em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"></path></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"></path></svg></span></span><span style="top:-4.6em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2.2544</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">mA</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">4.8986</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathnormal">μ</span><span class="mord mathrm">A</span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">CE</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.9526</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">BE</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.6430</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span></span></span><span style="top:-1.53em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2.7456</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.4360</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.7930</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.91em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.06em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.56em;"><span style="top:-4.56em;"><span class="pstrut" style="height:4.41em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.06em;"><span></span></span></span></span></span></span></span></span></p>
<p>Compared with the theoretical calculation results, the two are basically consistent:</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="center" columnspacing="0em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mi mathvariant="normal">t</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">l</mi><mo>:</mo><mtext>&nbsp;</mtext></mrow><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>I</mi><mi>C</mi></msub><mo>=</mo><mn>2.2518</mn><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">A</mi></mrow><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>I</mi><mi>B</mi></msub><mo>=</mo><mn>4.9091</mn><mtext>&nbsp;</mtext><mrow><mi>μ</mi><mi mathvariant="normal">A</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>V</mi><mrow><mi>C</mi><mi>E</mi></mrow></msub><mo>=</mo><mn>1.9550</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>V</mi><mrow><mi>B</mi><mi>E</mi></mrow></msub><mo>=</mo><mn>0.6440</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>V</mi><mi>C</mi></msub><mo>=</mo><mn>2.7459</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>V</mi><mi>B</mi></msub><mo>=</mo><mn>1.4359</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace><msub><mi>V</mi><mi>E</mi></msub><mo>=</mo><mn>0.7910</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">V</mi><mo separator="true">,</mo><mspace width="1em"></mspace></mrow></mstyle></mtd></mtr></mtable></mrow></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{gather}
\mathrm{theoretical:\ }
\begin{cases}
I_C = 2.2518 \ \mathrm{mA},\quad 
I_B = 4.9091 \ \mathrm{\mu A} 
\\
V_{CE} = 1.9550 \ \mathrm{V},\quad
V_{BE} = 0.6440 \ \mathrm{V}
\\
V_C = 2.7459 \ \mathrm{V},\quad
V_B = 1.4359 \ \mathrm{V},\quad
V_E = 0.7910 \ \mathrm{V},\quad
\end{cases}
\end{gather}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.62em;vertical-align:-2.06em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.56em;"><span style="top:-4.56em;"><span class="pstrut" style="height:4.41em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">theoretical</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace">&nbsp;</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-2.2em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.192em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"></path></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"></path></svg></span></span><span style="top:-4.6em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2.2518</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">mA</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">4.9091</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathnormal">μ</span><span class="mord mathrm">A</span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">CE</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.9550</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">BE</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.6440</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span></span></span><span style="top:-1.53em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2.7459</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.4359</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.7910</span><span class="mspace">&nbsp;</span><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.91em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.06em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.56em;"><span style="top:-4.56em;"><span class="pstrut" style="height:4.41em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.06em;"><span></span></span></span></span></span></span></span></span></p>
<h3 id="33---practical">3.3 - Practical </h3>
<p>In the following contents, we will use the practical circuit to examine the results we have obtained so far. The practical circuit is shown below:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-14-32-44_Common Emitter Amplifier Experiment.jpg"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-14-32-52_Common Emitter Amplifier Experiment.jpg"></div>
<h2 id="4---small-signal-gain">4 - Small-Signal Gain </h2>
<h3 id="41---theoretical">4.1 - Theoretical </h3>
<p>Assuming <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><mn>1</mn><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">k</mi><mi mathvariant="normal">H</mi><mi mathvariant="normal">z</mi></mrow></mrow><annotation encoding="application/x-tex">f = 1 \ \mathrm{kHz}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">kHz</span></span></span></span></span>, we can calculate the AC small-signal gain of the CE amplifier:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-16-08-00_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-16-08-21_Common Emitter Amplifier Experiment.png"></div>
<pre data-role="codeBlock" data-info="matlab" class="language-matlab matlab"><code><span class="token comment">% ac gain calculation</span>
f <span class="token operator">=</span> <span class="token number">1e3</span><span class="token punctuation">;</span>
omega <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span><span class="token keyword keyword-pi">pi</span><span class="token operator">*</span>f<span class="token punctuation">;</span>
C_in <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_out <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_E <span class="token operator">=</span> <span class="token number">100e-6</span><span class="token punctuation">;</span>

R_B <span class="token operator">=</span> R_B0 <span class="token operator">+</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">,</span> R_1<span class="token punctuation">,</span> R_2<span class="token punctuation">]</span><span class="token punctuation">)</span>
R_C <span class="token operator">=</span> R_C1
R_E <span class="token operator">=</span> R_E1 <span class="token operator">+</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E2<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_E<span class="token punctuation">)</span><span class="token punctuation">)</span>

r_O <span class="token operator">=</span> V_A<span class="token operator">/</span>I_C
g_m <span class="token operator">=</span> I_C<span class="token operator">/</span><span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span>
r_pi <span class="token operator">=</span> beta<span class="token operator">/</span>g_m

R_coll <span class="token operator">=</span> r_O <span class="token operator">*</span> <span class="token punctuation">(</span>  <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>beta<span class="token operator">/</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">/</span>r_O<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E<span class="token punctuation">,</span> r_pi<span class="token punctuation">)</span> <span class="token punctuation">)</span>
R_out <span class="token operator">=</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_C<span class="token punctuation">,</span> R_coll<span class="token punctuation">)</span>
G_m <span class="token operator">=</span> beta<span class="token operator">/</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">/</span> R_E <span class="token operator">*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span>R_E<span class="token punctuation">,</span> <span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>beta <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r_O<span class="token punctuation">]</span><span class="token punctuation">)</span>
A_v <span class="token operator">=</span> <span class="token operator">-</span>G_m<span class="token operator">*</span>R_out
A_v_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span>
</code></pre><p>By simply changing the frequency, we can sketch the AC small-signal gain curve of the circuit, i.e., the frequency response in the medium frequency. The result is shown below:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-17-36-03_Common Emitter Amplifier Experiment.png"></div>
<pre data-role="codeBlock" data-info="matlab" class="language-matlab matlab"><code><span class="token comment">% ac gain frequency response</span>
f <span class="token operator">=</span> <span class="token function">logspace</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
omega <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span><span class="token keyword keyword-pi">pi</span><span class="token operator">*</span>f<span class="token punctuation">;</span>
C_in <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_out <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_E <span class="token operator">=</span> <span class="token number">100e-6</span><span class="token punctuation">;</span>

R_B <span class="token operator">=</span> R_B0 <span class="token operator">+</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">,</span> R_1<span class="token punctuation">,</span> R_2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
R_C <span class="token operator">=</span> R_C1<span class="token punctuation">;</span>
R_E <span class="token operator">=</span> R_E1 <span class="token operator">+</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_E<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

r_O <span class="token operator">=</span> V_A<span class="token operator">/</span>I_C<span class="token punctuation">;</span>
g_m <span class="token operator">=</span> I_C<span class="token operator">/</span><span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span><span class="token punctuation">;</span>
r_pi <span class="token operator">=</span> beta<span class="token operator">/</span>g_m<span class="token punctuation">;</span>

R_coll <span class="token operator">=</span> r_O <span class="token operator">*</span> <span class="token punctuation">(</span>  <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">/</span>r_O<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E<span class="token punctuation">,</span> r_pi<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
R_out <span class="token operator">=</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_C<span class="token punctuation">,</span> R_coll<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%G_m = beta./(r_pi + R_B) ./ R_E .* MyParallel_n([R_E, (r_pi + R_B)./(beta + 1), r_O])</span>
tv_1 <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>R_E<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span><span class="token operator">./</span><span class="token punctuation">(</span>beta <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tv_2 <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>R_E<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  r_O<span class="token punctuation">;</span>
G_m <span class="token operator">=</span> beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">./</span> R_E <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span>R_E<span class="token operator">'</span><span class="token punctuation">,</span> tv_1<span class="token operator">'</span><span class="token punctuation">,</span> tv_2<span class="token operator">'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
A_1 <span class="token operator">=</span> <span class="token operator">-</span>G_m<span class="token operator">.*</span>R_out<span class="token punctuation">;</span>  <span class="token comment">% 注意这里还不是实际的小信号增益, 因为没有考虑输入电阻</span>
A_v <span class="token operator">=</span> A_1 <span class="token operator">.*</span> <span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_1<span class="token punctuation">,</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">'</span><span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
A_v_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">;</span>
A_v_dB <span class="token operator">=</span> <span class="token number">20</span><span class="token operator">*</span><span class="token function">log</span><span class="token punctuation">(</span>A_v_abs<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">A_v</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
phase <span class="token operator">=</span> <span class="token function">rad2deg</span><span class="token punctuation">(</span><span class="token function">angle</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%phase(phase &gt; 90) = phase(phase &gt; 90) - 360;</span>

stc <span class="token operator">=</span> <span class="token function">MyYYPlot</span><span class="token punctuation">(</span><span class="token punctuation">[</span>f<span class="token punctuation">;</span> f<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>A_v_abs<span class="token punctuation">;</span> phase<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>XScale <span class="token operator">=</span> <span class="token string">'log'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>x<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Frequency $f$ (Hz)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_left<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Gain $A_v$ (V/V)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_right<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Phase $\theta$ ($^\circ$)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>leg<span class="token punctuation">.</span>Visible <span class="token operator">=</span> <span class="token string">'off'</span><span class="token punctuation">;</span>

stc <span class="token operator">=</span> <span class="token function">MyYYPlot</span><span class="token punctuation">(</span><span class="token punctuation">[</span>f<span class="token punctuation">;</span> f<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>A_v_dB<span class="token punctuation">;</span> phase<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>XScale <span class="token operator">=</span> <span class="token string">'log'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>x<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Frequency $f$ (Hz)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_left<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Gain $A_v$ (dB)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_right<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Phase $\theta$ ($^\circ$)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>leg<span class="token punctuation">.</span>Visible <span class="token operator">=</span> <span class="token string">'off'</span><span class="token punctuation">;</span>
</code></pre><h3 id="42---simulated">4.2 - Simulated </h3>
<p>The maximum small-signal voltage gain:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-16-16-12_Common Emitter Amplifier Experiment.png"></div>
<p>The frequency with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mtext> </mtext><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">10 \,\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">%</span></span></span></span> decrease in voltage gain:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-16-18-40_Common Emitter Amplifier Experiment.png"></div>
<p>The voltage gain's 3 dB bandwidth:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-16-19-13_Common Emitter Amplifier Experiment.png"></div>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="center" columnspacing="0em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mi mathvariant="normal">B</mi><mi mathvariant="normal">W</mi></mrow><mo>=</mo><mn>59.948425</mn><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">M</mi><mi mathvariant="normal">H</mi><mi mathvariant="normal">z</mi></mrow><mo>−</mo><mn>30.515276</mn><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">H</mi><mi mathvariant="normal">z</mi></mrow><mo>=</mo><mn>59.9480</mn><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">M</mi><mi mathvariant="normal">H</mi><mi mathvariant="normal">z</mi></mrow></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{gather}
\mathrm{BW} = 59.948425 \ \mathrm{MHz} - 30.515276 \ \mathrm{Hz} =  59.9480 \ \mathrm{MHz}
\end{gather}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5em;vertical-align:-0.5em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">BW</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">59.948425</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">MHz</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">30.515276</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">Hz</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">59.9480</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">MHz</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span></span></p>
<h3 id="43---practical">4.3 - Practical </h3>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-13-57-54_Common Emitter Amplifier Experiment.png"></div>
<h2 id="5---inputoutput-impedance">5 - Input/Output Impedance </h2>
<p>Since the presence of the coupling capacitors, the input/output impedance is a function of frequency. Considering the impedance of input/output capacitors, it can be derived that:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-04-11-20-58-41_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-04-11-20-59-11_Common Emitter Amplifier Experiment.png"></div>
<p>We can see that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><msub><mi>R</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mi mathvariant="normal">∣</mi><mo>=</mo><mn>5.571</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">k</mi><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">|R_{in}| = 5.571 \ \mathrm{k}\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">5.571</span><span class="mspace">&nbsp;</span><span class="mord mathrm">k</span><span class="mord">Ω</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><msub><mi>R</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub><mi mathvariant="normal">∣</mi><mo>=</mo><mn>1.007</mn><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">k</mi><mi mathvariant="normal">Ω</mi></mrow></mrow><annotation encoding="application/x-tex">|R_{out}| = 1.007 \ \mathrm{k\Omega}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1.007</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">kΩ</span></span></span></span></span> at <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><mn>1</mn><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">k</mi><mi mathvariant="normal">H</mi><mi mathvariant="normal">z</mi></mrow></mrow><annotation encoding="application/x-tex">f = 1 \ \mathrm{kHz}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1</span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">kHz</span></span></span></span></span>.</p>
<h2 id="6---large-signal-gain-f--10-khz-theoretical">6 - Large-Signal Gain (f = 10 kHz, Theoretical) </h2>
<p>A relatively large input signal can disturb the DC operating point, thus changing the collector current and the voltage gain. The figure below illustrate the situation:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-17-41-59_Common Emitter Amplifier Experiment.png"></div>
<pre data-role="codeBlock" data-info="matlab" class="language-matlab matlab"><code><span class="token comment">% Large-Signal Gain (f = 10 KHz)</span>

I_C <span class="token operator">=</span> <span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4e-3</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

f <span class="token operator">=</span> <span class="token number">10e3</span><span class="token punctuation">;</span>
omega <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span><span class="token keyword keyword-pi">pi</span><span class="token operator">*</span>f<span class="token punctuation">;</span>
C_in <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_out <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_E <span class="token operator">=</span> <span class="token number">100e-6</span><span class="token punctuation">;</span>

R_B <span class="token operator">=</span> R_B0 <span class="token operator">+</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">,</span> R_1<span class="token punctuation">,</span> R_2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
R_C <span class="token operator">=</span> R_C1<span class="token punctuation">;</span>
R_E <span class="token operator">=</span> R_E1 <span class="token operator">+</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_E<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

r_O <span class="token operator">=</span> V_A<span class="token operator">./</span>I_C<span class="token punctuation">;</span>
g_m <span class="token operator">=</span> I_C<span class="token operator">/</span><span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span><span class="token punctuation">;</span>
r_pi <span class="token operator">=</span> beta<span class="token operator">./</span>g_m<span class="token punctuation">;</span>

R_coll <span class="token operator">=</span> r_O <span class="token operator">.*</span> <span class="token punctuation">(</span>  <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1.</span><span class="token operator">/</span>r_O<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E<span class="token punctuation">,</span> r_pi<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
R_out <span class="token operator">=</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_C<span class="token punctuation">,</span> R_coll<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%G_m = beta./(r_pi + R_B) ./ R_E .* MyParallel_n([R_E, (r_pi + R_B)./(beta + 1), r_O])</span>
tv_1 <span class="token operator">=</span> <span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span><span class="token operator">./</span><span class="token punctuation">(</span>beta <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tv_2 <span class="token operator">=</span> r_O<span class="token punctuation">;</span>
tv_R_E <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_E<span class="token punctuation">;</span>
G_m <span class="token operator">=</span> beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">./</span> R_E <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span>tv_R_E<span class="token operator">'</span><span class="token punctuation">,</span> tv_1<span class="token operator">'</span><span class="token punctuation">,</span> tv_2<span class="token operator">'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
A_1 <span class="token operator">=</span> <span class="token operator">-</span>G_m<span class="token operator">.*</span>R_out<span class="token punctuation">;</span>  <span class="token comment">% 注意这里还不是实际的小信号增益, 因为没有考虑输入电阻</span>
A_v <span class="token operator">=</span> A_1 <span class="token operator">.*</span> <span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_1<span class="token punctuation">,</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">'</span><span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
A_v_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">;</span>
A_v_dB <span class="token operator">=</span> <span class="token number">20</span><span class="token operator">*</span><span class="token function">log</span><span class="token punctuation">(</span>A_v_abs<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">A_v</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
phase <span class="token operator">=</span> <span class="token function">rad2deg</span><span class="token punctuation">(</span><span class="token function">angle</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%phase(phase &gt; 90) = phase(phase &gt; 90) - 360;</span>

stc <span class="token operator">=</span> <span class="token function">MyYYPlot</span><span class="token punctuation">(</span><span class="token punctuation">[</span>I_C<span class="token punctuation">;</span> I_C<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">10</span><span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>A_v_abs<span class="token punctuation">;</span> A_v_dB<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>x<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Collector Current $I_C$ (mA)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_left<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Gain $A_v$ (V/V)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_right<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Gain $A_v$ (dB)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>leg<span class="token punctuation">.</span>Visible <span class="token operator">=</span> <span class="token string">'off'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>YLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">yyaxis</span><span class="token punctuation">(</span><span class="token string">'right'</span><span class="token punctuation">)</span>
stc<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>YLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><h2 id="7---transient-response">7 - Transient Response </h2>
<h3 id="71---simulated">7.1 - Simulated </h3>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-13-45-31_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-29-23-28-45_Common Emitter Amplifier Experiment.png"></div>
<h3 id="72---practical">7.2 - Practical </h3>
<p>Note that we use the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">Ω</mi><mo>+</mo><mn>1</mn><mtext>&nbsp;</mtext><mi mathvariant="normal">k</mi><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">10 \ \mathrm{\Omega} + 1 \ \mathrm{k}\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace">&nbsp;</span><span class="mord mathrm">Ω</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1</span><span class="mspace">&nbsp;</span><span class="mord mathrm">k</span><span class="mord">Ω</span></span></span></span> voltage divider to achieve an attenuation coefficient of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>101</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{101}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">101</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>, therefore giving a stable input small-signal.</p>
<p>In the following figures, CH1 (Orange) refers to the input signal and CH2 (Blue) refers to the output signal.</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-00-45-37_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-00-44-46_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-00-46-48_Common Emitter Amplifier Experiment.png"></div>
<p>Higher input frequency:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-14-15-14_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-14-15-52_Common Emitter Amplifier Experiment.png"></div>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-14-16-49_Common Emitter Amplifier Experiment.png"></div>
<h2 id="8---input-range-analysis">8 - Input Range Analysis </h2>
<h3 id="81---theoretical">8.1 - Theoretical </h3>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-13-38-27_Common Emitter Amplifier Experiment.png"></div>
<h3 id="82---simulated">8.2 - Simulated </h3>
<p>Edge of saturation distortion (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>i</mi><mi>n</mi><mo separator="true">,</mo><mi>max</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">v_{in, \max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>C</mi><mo separator="true">,</mo><mi>max</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">I_{C,\max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mo separator="true">,</mo><mi>min</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">v_{out,\min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>):</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-13-21-30_Common Emitter Amplifier Experiment.png"></div>
<p>Edge of cut-off (threshold) distortion (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>i</mi><mi>n</mi><mo separator="true">,</mo><mi>min</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">v_{in, \min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>C</mi><mo separator="true">,</mo><mi>min</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">I_{C,\min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mo separator="true">,</mo><mi>max</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">v_{out,\max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>):</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-13-40-21_Common Emitter Amplifier Experiment.png"></div>
<h3 id="83---practical">8.3 - Practical </h3>
<p>Edge of saturation distortion (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>i</mi><mi>n</mi><mo separator="true">,</mo><mi>max</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">v_{in, \max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>C</mi><mo separator="true">,</mo><mi>max</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">I_{C,\max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mo separator="true">,</mo><mi>min</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">v_{out,\min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>):</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-13-53-48_Common Emitter Amplifier Experiment.png"></div>
<p>Edge of cut-off (threshold) distortion (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>i</mi><mi>n</mi><mo separator="true">,</mo><mi>min</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">v_{in, \min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>C</mi><mo separator="true">,</mo><mi>min</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">I_{C,\min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mo separator="true">,</mo><mi>max</mi><mo>⁡</mo></mrow></msub></mrow><annotation encoding="application/x-tex">v_{out,\max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span><span class="mpunct mtight">,</span><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>):</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-13-55-10_Common Emitter Amplifier Experiment.png"></div>
<h2 id="14---nonlinearity-distortion-analysis">14 - Nonlinearity Distortion Analysis </h2>
<p>Even though the CE amplifier is a linear circuit, it can still produce nonlinear distortion, especially when the input signal is relatively large (but not causing saturation or cut-off distortion).</p>
<p>This is because the amp exhibits a different small-signal voltage gain for different collector current <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>C</mi></msub></mrow><annotation encoding="application/x-tex">I_C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.<br>
As the input signal varies, the collector current varies and thus the gain varies, leading to a nonlinear distortion.<br>
It can be easily proved that, in the CE amp shown above, the lower half part has a larger peak-to-peak voltage than that of the upper half part. Because the lower half part has a larger collector current, thus a larger gain.</p>
<p>We can verify this point in the practical circuit:</p>
<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-03-30-14-21-17_Common Emitter Amplifier Experiment.png"></div>
<h2 id="99---conclusion">99 - Conclusion </h2>
<p>The experiment is a success. We have learned how to calculate, simulate and conduct a practical test of the CE amplifier circuit. The results are consistent with our theoretical calculations and simulation results.</p>
<h2 id="appendix---matlab-codes">Appendix - Matlab codes </h2>
<p>All codes involved in the theoretical calculation of this experiment are as follows:</p>
<pre data-role="codeBlock" data-info="matlab" class="language-matlab matlab"><code><span class="token comment">% dc point calculation</span>
clc<span class="token punctuation">,</span> clear<span class="token punctuation">,</span> close all

<span class="token comment">% 电路参数</span>
R_1 <span class="token operator">=</span> <span class="token number">24e3</span><span class="token punctuation">;</span>
R_2 <span class="token operator">=</span> <span class="token number">10e3</span><span class="token punctuation">;</span>
R_C1 <span class="token operator">=</span> <span class="token number">1e3</span><span class="token punctuation">;</span>
R_E1 <span class="token operator">=</span> <span class="token number">51</span><span class="token punctuation">;</span>
R_E2 <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>

<span class="token comment">% SPICE 参数</span>
Vcc <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
I_S <span class="token operator">=</span> <span class="token number">4.679e-14</span><span class="token punctuation">;</span>
R_B0 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
R_C0 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
R_E0 <span class="token operator">=</span> <span class="token number">0.2598</span><span class="token punctuation">;</span>
beta <span class="token operator">=</span> <span class="token number">250</span><span class="token punctuation">;</span>
n_f <span class="token operator">=</span> <span class="token number">1.01</span><span class="token punctuation">;</span>
V_A <span class="token operator">=</span> <span class="token number">52.64</span><span class="token punctuation">;</span>

<span class="token comment">% 其它参数</span>
R_E_all <span class="token operator">=</span> R_E0 <span class="token operator">+</span> R_E1 <span class="token operator">+</span> R_E2
R_all <span class="token operator">=</span> R_C0 <span class="token operator">+</span> R_C1 <span class="token operator">+</span> R_E0 <span class="token operator">+</span> R_E1 <span class="token operator">+</span> R_E2
V_T <span class="token operator">=</span> <span class="token number">26e-3</span><span class="token punctuation">;</span>


tv_Ic <span class="token operator">=</span> Vcc<span class="token operator">/</span>R_all<span class="token operator">*</span><span class="token number">1000</span>
tv_Ib <span class="token operator">=</span> tv_Ic<span class="token operator">/</span>beta<span class="token operator">*</span><span class="token number">1000</span>

func_I_C <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>V_BE<span class="token punctuation">,</span> V_CE<span class="token punctuation">)</span> I_S<span class="token operator">*</span><span class="token function">exp</span><span class="token punctuation">(</span>V_BE<span class="token operator">/</span><span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> V_CE<span class="token operator">/</span>V_A<span class="token punctuation">)</span>
array_V_BE <span class="token operator">=</span> <span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">670</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
array_V_CE <span class="token operator">=</span> <span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
matrix_I_C <span class="token operator">=</span> <span class="token function">func_I_C</span><span class="token punctuation">(</span>array_V_BE<span class="token punctuation">,</span> array_V_CE<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">MyPlot</span><span class="token punctuation">(</span>array_V_CE<span class="token punctuation">,</span> matrix_I_C<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

V_B <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span> <span class="token punctuation">(</span>Vcc <span class="token operator">-</span> I_C<span class="token operator">*</span>R_1<span class="token operator">/</span>beta<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> R_1<span class="token operator">/</span>R_2<span class="token punctuation">)</span>
eq <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span> I_C <span class="token operator">-</span> I_S <span class="token operator">.*</span> <span class="token function">exp</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token function">V_B</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span> <span class="token operator">-</span> I_C<span class="token operator">.*</span>R_E_all<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span>  <span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Vcc <span class="token operator">-</span> I_C<span class="token operator">.*</span>R_all<span class="token punctuation">)</span><span class="token operator">/</span>V_A<span class="token punctuation">)</span>
range_I_C <span class="token operator">=</span> <span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5e-3</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stc <span class="token operator">=</span> <span class="token function">MyPlot_2window</span><span class="token punctuation">(</span>range_I_C<span class="token punctuation">,</span> <span class="token function">eq</span><span class="token punctuation">(</span>range_I_C<span class="token punctuation">)</span><span class="token punctuation">,</span> range_I_C<span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">eq</span><span class="token punctuation">(</span>range_I_C<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>ax1<span class="token punctuation">.</span>YLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
stc<span class="token punctuation">.</span>ax1<span class="token punctuation">.</span>XLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token function">range_I_C</span><span class="token punctuation">(</span><span class="token keyword keyword-end">end</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>ax2<span class="token punctuation">.</span>YLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
stc<span class="token punctuation">.</span>ax2<span class="token punctuation">.</span>XLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token function">range_I_C</span><span class="token punctuation">(</span><span class="token keyword keyword-end">end</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>ax2<span class="token punctuation">.</span>YScale <span class="token operator">=</span> <span class="token string">'log'</span><span class="token punctuation">;</span>

<span class="token comment">% dc point calculation </span>
I_C <span class="token operator">=</span> <span class="token function">fzero</span><span class="token punctuation">(</span>eq<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">4e-3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">disp</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'I_C = '</span><span class="token punctuation">,</span> <span class="token function">num2str</span><span class="token punctuation">(</span>I_C<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">'%.8f'</span><span class="token punctuation">)</span> <span class="token string">' mA'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
I_B <span class="token operator">=</span> I_C<span class="token operator">/</span>beta
V_B_ <span class="token operator">=</span> <span class="token function">V_B</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span>
V_C <span class="token operator">=</span> Vcc <span class="token operator">-</span> I_C<span class="token operator">*</span><span class="token punctuation">(</span>R_C0 <span class="token operator">+</span> R_C1<span class="token punctuation">)</span>
V_E <span class="token operator">=</span> I_C<span class="token operator">*</span>R_E_all
V_BE <span class="token operator">=</span> <span class="token function">V_B</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span> <span class="token operator">-</span> V_E
V_CE <span class="token operator">=</span> V_C <span class="token operator">-</span> V_E


<span class="token comment">% dc point simulation</span>
V_C <span class="token operator">=</span> <span class="token number">2.74563</span>
V_B <span class="token operator">=</span> <span class="token number">1.43601</span>
V_E <span class="token operator">=</span> <span class="token number">0.793003</span>
V_CE <span class="token operator">=</span> V_C <span class="token operator">-</span> V_E
V_BE <span class="token operator">=</span> V_B <span class="token operator">-</span> V_E

<span class="token comment">% ac gain calculation</span>
f <span class="token operator">=</span> <span class="token number">1e3</span><span class="token punctuation">;</span>
omega <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span><span class="token keyword keyword-pi">pi</span><span class="token operator">*</span>f<span class="token punctuation">;</span>
C_in <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_out <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_E <span class="token operator">=</span> <span class="token number">100e-6</span><span class="token punctuation">;</span>

R_B <span class="token operator">=</span> R_B0 <span class="token operator">+</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">,</span> R_1<span class="token punctuation">,</span> R_2<span class="token punctuation">]</span><span class="token punctuation">)</span>
R_C <span class="token operator">=</span> R_C1
R_E <span class="token operator">=</span> R_E1 <span class="token operator">+</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E2<span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_E<span class="token punctuation">)</span><span class="token punctuation">)</span>


r_O <span class="token operator">=</span> V_A<span class="token operator">/</span>I_C
g_m <span class="token operator">=</span> I_C<span class="token operator">/</span><span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span>
r_pi <span class="token operator">=</span> beta<span class="token operator">/</span>g_m

R_base <span class="token operator">=</span> r_pi <span class="token operator">+</span> R_E <span class="token operator">*</span> <span class="token punctuation">(</span>beta<span class="token operator">*</span>r_O <span class="token operator">+</span> r_O <span class="token operator">+</span> R_C<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>R_E <span class="token operator">+</span> r_O <span class="token operator">+</span> R_C<span class="token punctuation">)</span>
R_in <span class="token operator">=</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span>R_1<span class="token punctuation">,</span> R_2<span class="token punctuation">,</span> R_base<span class="token punctuation">]</span><span class="token punctuation">)</span>
R_in_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>R_in<span class="token punctuation">)</span>

R_coll <span class="token operator">=</span> r_O <span class="token operator">*</span> <span class="token punctuation">(</span>  <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>beta<span class="token operator">/</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">/</span>r_O<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E<span class="token punctuation">,</span> r_pi<span class="token punctuation">)</span> <span class="token punctuation">)</span>
R_out <span class="token operator">=</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_C<span class="token punctuation">,</span> R_coll<span class="token punctuation">)</span>
R_out_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>R_out<span class="token punctuation">)</span>
G_m <span class="token operator">=</span> beta<span class="token operator">/</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">/</span> R_E <span class="token operator">*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span>R_E<span class="token punctuation">,</span> <span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>beta <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r_O<span class="token punctuation">]</span><span class="token punctuation">)</span>
A_v <span class="token operator">=</span> <span class="token operator">-</span>G_m<span class="token operator">*</span>R_out
A_v_abs <span class="token operator">=</span> <span class="token operator">-</span><span class="token function">abs</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span>

<span class="token comment">% ac gain frequency response</span>
f <span class="token operator">=</span> <span class="token function">logspace</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
omega <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span><span class="token keyword keyword-pi">pi</span><span class="token operator">*</span>f<span class="token punctuation">;</span>
C_in <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_out <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_E <span class="token operator">=</span> <span class="token number">100e-6</span><span class="token punctuation">;</span>

R_B <span class="token operator">=</span> R_B0 <span class="token operator">+</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">,</span> R_1<span class="token punctuation">,</span> R_2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
R_C <span class="token operator">=</span> R_C1<span class="token punctuation">;</span>
R_E <span class="token operator">=</span> R_E1 <span class="token operator">+</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_E<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

r_O <span class="token operator">=</span> V_A<span class="token operator">/</span>I_C<span class="token punctuation">;</span>
g_m <span class="token operator">=</span> I_C<span class="token operator">/</span><span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span><span class="token punctuation">;</span>
r_pi <span class="token operator">=</span> beta<span class="token operator">/</span>g_m<span class="token punctuation">;</span>

R_coll <span class="token operator">=</span> r_O <span class="token operator">*</span> <span class="token punctuation">(</span>  <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">/</span>r_O<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E<span class="token punctuation">,</span> r_pi<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
R_out <span class="token operator">=</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_C<span class="token punctuation">,</span> R_coll<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%G_m = beta./(r_pi + R_B) ./ R_E .* MyParallel_n([R_E, (r_pi + R_B)./(beta + 1), r_O])</span>
tv_1 <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>R_E<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span><span class="token operator">./</span><span class="token punctuation">(</span>beta <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tv_2 <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>R_E<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  r_O<span class="token punctuation">;</span>
G_m <span class="token operator">=</span> beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">./</span> R_E <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span>R_E<span class="token operator">'</span><span class="token punctuation">,</span> tv_1<span class="token operator">'</span><span class="token punctuation">,</span> tv_2<span class="token operator">'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
A_1 <span class="token operator">=</span> <span class="token operator">-</span>G_m<span class="token operator">.*</span>R_out<span class="token punctuation">;</span>  <span class="token comment">% 注意这里还不是实际的小信号增益, 因为没有考虑输入电阻</span>
A_v <span class="token operator">=</span> A_1 <span class="token operator">.*</span> <span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_1<span class="token punctuation">,</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">'</span><span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
A_v_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">;</span>
A_v_dB <span class="token operator">=</span> <span class="token number">20</span><span class="token operator">*</span><span class="token function">log</span><span class="token punctuation">(</span>A_v_abs<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">A_v</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
phase <span class="token operator">=</span> <span class="token function">rad2deg</span><span class="token punctuation">(</span><span class="token function">angle</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%phase(phase &gt; 90) = phase(phase &gt; 90) - 360;</span>

<span class="token comment">%stc = MyYYPlot([f; f], [A_v_abs; phase]);</span>
stc<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>XScale <span class="token operator">=</span> <span class="token string">'log'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>x<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Frequency $f$ (Hz)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_left<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Gain $A_v$ (V/V)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_right<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Phase $\theta$ ($^\circ$)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>leg<span class="token punctuation">.</span>Visible <span class="token operator">=</span> <span class="token string">'off'</span><span class="token punctuation">;</span>

<span class="token comment">%stc = MyYYPlot([f; f], [A_v_dB; phase]);</span>
stc<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>XScale <span class="token operator">=</span> <span class="token string">'log'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>x<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Frequency $f$ (Hz)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_left<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Gain $A_v$ (dB)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_right<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Phase $\theta$ ($^\circ$)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>leg<span class="token punctuation">.</span>Visible <span class="token operator">=</span> <span class="token string">'off'</span><span class="token punctuation">;</span>




<span class="token comment">% Input/Output Impedance</span>
f <span class="token operator">=</span> <span class="token function">logspace</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
omega <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span><span class="token keyword keyword-pi">pi</span><span class="token operator">*</span>f<span class="token punctuation">;</span>
C_in <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_out <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_E <span class="token operator">=</span> <span class="token number">100e-6</span><span class="token punctuation">;</span>

R_B <span class="token operator">=</span> R_B0 <span class="token operator">+</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">,</span> R_1<span class="token punctuation">,</span> R_2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
R_C <span class="token operator">=</span> R_C1<span class="token punctuation">;</span>
R_E <span class="token operator">=</span> R_E1 <span class="token operator">+</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_E<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

r_O <span class="token operator">=</span> V_A<span class="token operator">/</span>I_C<span class="token punctuation">;</span>
g_m <span class="token operator">=</span> I_C<span class="token operator">/</span><span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span><span class="token punctuation">;</span>
r_pi <span class="token operator">=</span> beta<span class="token operator">/</span>g_m<span class="token punctuation">;</span>

R_coll <span class="token operator">=</span> r_O <span class="token operator">*</span> <span class="token punctuation">(</span>  <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">/</span>r_O<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E<span class="token punctuation">,</span> r_pi<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
R_base <span class="token operator">=</span> r_pi <span class="token operator">+</span> R_E <span class="token operator">*</span> <span class="token punctuation">(</span>beta<span class="token operator">*</span>r_O <span class="token operator">+</span> r_O <span class="token operator">+</span> R_C<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>R_E <span class="token operator">+</span> r_O <span class="token operator">+</span> R_C<span class="token punctuation">)</span><span class="token punctuation">;</span>


R_in <span class="token operator">=</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span><span class="token function">MyParallel</span><span class="token punctuation">(</span>R_1<span class="token punctuation">,</span> R_2<span class="token punctuation">)</span><span class="token punctuation">,</span> R_B0 <span class="token operator">+</span> R_base<span class="token punctuation">)</span><span class="token punctuation">;</span>
R_in_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>R_in<span class="token punctuation">)</span><span class="token punctuation">;</span>

R_out <span class="token operator">=</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_C<span class="token punctuation">,</span> R_coll<span class="token punctuation">)</span><span class="token punctuation">;</span>
R_out_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>R_out<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%G_m = beta./(r_pi + R_B) ./ R_E .* MyParallel_n([R_E, (r_pi + R_B)./(beta + 1), r_O])</span>
tv_1 <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>R_E<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span><span class="token operator">./</span><span class="token punctuation">(</span>beta <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tv_2 <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>R_E<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  r_O<span class="token punctuation">;</span>
G_m <span class="token operator">=</span> beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">./</span> R_E <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span>R_E<span class="token operator">'</span><span class="token punctuation">,</span> tv_1<span class="token operator">'</span><span class="token punctuation">,</span> tv_2<span class="token operator">'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
A_1 <span class="token operator">=</span> <span class="token operator">-</span>G_m<span class="token operator">.*</span>R_out<span class="token punctuation">;</span>  <span class="token comment">% 注意这里还不是实际的小信号增益, 因为没有考虑输入电阻</span>
A_v <span class="token operator">=</span> A_1 <span class="token operator">.*</span> <span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_1<span class="token punctuation">,</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">'</span><span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
A_v_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">;</span>
A_v_dB <span class="token operator">=</span> <span class="token number">20</span><span class="token operator">*</span><span class="token function">log</span><span class="token punctuation">(</span>A_v_abs<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">A_v</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
phase <span class="token operator">=</span> <span class="token function">rad2deg</span><span class="token punctuation">(</span><span class="token function">angle</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%phase(phase &gt; 90) = phase(phase &gt; 90) - 360;</span>

stc <span class="token operator">=</span> <span class="token function">MyYYPlot</span><span class="token punctuation">(</span><span class="token punctuation">[</span>f<span class="token punctuation">;</span> f<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>R_in_abs<span class="token punctuation">;</span> R_out_abs<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>XScale <span class="token operator">=</span> <span class="token string">'log'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>x<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Frequency $f$ (Hz)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_left<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Input Impedance $|Z_{in}|$ ($\Omega$)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_right<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Output Impedance $|Z_{out}|$ ($\Omega$)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>leg<span class="token punctuation">.</span>Visible <span class="token operator">=</span> <span class="token string">'off'</span><span class="token punctuation">;</span>
<span class="token function">yyaxis</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span>
MyFigure_ChangeSize_2048x512


<span class="token comment">% input/output voltage range calculation</span>
<span class="token keyword keyword-if">if</span> <span class="token number">0</span>
    eq <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> x<span class="token operator">*</span><span class="token punctuation">(</span>R_C0 <span class="token operator">+</span> R_C1 <span class="token operator">+</span> R_E0 <span class="token operator">+</span> R_E1<span class="token punctuation">)</span> <span class="token operator">+</span> n_f<span class="token operator">*</span>V_T<span class="token operator">*</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">/</span>I_S<span class="token punctuation">)</span> <span class="token operator">-</span> Vcc <span class="token operator">+</span> I_C<span class="token operator">*</span>R_E2 <span class="token operator">-</span> <span class="token number">0.8</span>
    I_C_max <span class="token operator">=</span> <span class="token function">fzero</span><span class="token punctuation">(</span>eq<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1e-6</span> <span class="token number">5e-3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment">%I_C_max = ( Vcc - I_C*R_E2 - V_BE ) / (R_C0 + R_C1 + R_E0 + R_E1)</span>
    
    V_C_min <span class="token operator">=</span> Vcc <span class="token operator">-</span> I_C_max<span class="token operator">*</span><span class="token number">1e3</span>
    V_B_max <span class="token operator">=</span> n_f<span class="token operator">*</span>V_T <span class="token operator">*</span> <span class="token function">log</span><span class="token punctuation">(</span>I_C<span class="token operator">/</span>I_S<span class="token punctuation">)</span> <span class="token operator">+</span> I_C<span class="token operator">*</span>R_E2 <span class="token operator">+</span> I_C_max<span class="token operator">*</span><span class="token punctuation">(</span>R_E0 <span class="token operator">+</span> R_E1<span class="token punctuation">)</span>
    <span class="token punctuation">(</span>V_B_max <span class="token operator">-</span> V_B<span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000</span>
    <span class="token comment">%V_BE_max = log(I_C_max/I_S) * n_f*V_T</span>
<span class="token keyword keyword-end">end</span>

<span class="token comment">% v_in_max, saturation</span>
I_C_max <span class="token operator">=</span> <span class="token punctuation">(</span>Vcc <span class="token operator">-</span> I_C<span class="token operator">*</span>R_E2 <span class="token operator">-</span> <span class="token number">0.15</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>R_C0 <span class="token operator">+</span> R_C1 <span class="token operator">+</span> R_E0 <span class="token operator">+</span> R_E1<span class="token punctuation">)</span>
V_C_min <span class="token operator">=</span> Vcc <span class="token operator">-</span> I_C_max<span class="token operator">*</span><span class="token punctuation">(</span>R_C0 <span class="token operator">+</span> R_C1<span class="token punctuation">)</span>
v_out_min <span class="token operator">=</span> V_C_min <span class="token operator">-</span> V_C
v_in_max <span class="token operator">=</span> v_out_min<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">16</span><span class="token punctuation">)</span>

<span class="token comment">% v_in_min, threshold</span>
I_C_min <span class="token operator">=</span> <span class="token number">0.5e-3</span>
V_C_max <span class="token operator">=</span> Vcc <span class="token operator">-</span> I_C_min<span class="token operator">*</span><span class="token punctuation">(</span>R_C0 <span class="token operator">+</span> R_C1<span class="token punctuation">)</span>
v_out_max <span class="token operator">=</span> V_C_max <span class="token operator">-</span> V_C
v_in_min <span class="token operator">=</span> v_out_max<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">15.7</span><span class="token operator">*</span><span class="token number">0.75</span><span class="token punctuation">)</span>


<span class="token comment">% Large-Signal Gain (f = 10 KHz)</span>
I_C <span class="token operator">=</span> <span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4e-3</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

f <span class="token operator">=</span> <span class="token number">10e3</span><span class="token punctuation">;</span>
omega <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span><span class="token keyword keyword-pi">pi</span><span class="token operator">*</span>f<span class="token punctuation">;</span>
C_in <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_out <span class="token operator">=</span> <span class="token number">10e-6</span><span class="token punctuation">;</span>
C_E <span class="token operator">=</span> <span class="token number">100e-6</span><span class="token punctuation">;</span>

R_B <span class="token operator">=</span> R_B0 <span class="token operator">+</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">,</span> R_1<span class="token punctuation">,</span> R_2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
R_C <span class="token operator">=</span> R_C1<span class="token punctuation">;</span>
R_E <span class="token operator">=</span> R_E1 <span class="token operator">+</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_E<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

r_O <span class="token operator">=</span> V_A<span class="token operator">./</span>I_C<span class="token punctuation">;</span>
g_m <span class="token operator">=</span> I_C<span class="token operator">/</span><span class="token punctuation">(</span>n_f<span class="token operator">*</span>V_T<span class="token punctuation">)</span><span class="token punctuation">;</span>
r_pi <span class="token operator">=</span> beta<span class="token operator">./</span>g_m<span class="token punctuation">;</span>

R_coll <span class="token operator">=</span> r_O <span class="token operator">.*</span> <span class="token punctuation">(</span>  <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1.</span><span class="token operator">/</span>r_O<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_E<span class="token punctuation">,</span> r_pi<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
R_out <span class="token operator">=</span> <span class="token function">MyParallel</span><span class="token punctuation">(</span>R_C<span class="token punctuation">,</span> R_coll<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%G_m = beta./(r_pi + R_B) ./ R_E .* MyParallel_n([R_E, (r_pi + R_B)./(beta + 1), r_O])</span>
tv_1 <span class="token operator">=</span> <span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span><span class="token operator">./</span><span class="token punctuation">(</span>beta <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tv_2 <span class="token operator">=</span> r_O<span class="token punctuation">;</span>
tv_R_E <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>I_C<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_E<span class="token punctuation">;</span>
G_m <span class="token operator">=</span> beta<span class="token operator">./</span><span class="token punctuation">(</span>r_pi <span class="token operator">+</span> R_B<span class="token punctuation">)</span> <span class="token operator">./</span> R_E <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span>tv_R_E<span class="token operator">'</span><span class="token punctuation">,</span> tv_1<span class="token operator">'</span><span class="token punctuation">,</span> tv_2<span class="token operator">'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
A_1 <span class="token operator">=</span> <span class="token operator">-</span>G_m<span class="token operator">.*</span>R_out<span class="token punctuation">;</span>  <span class="token comment">% 注意这里还不是实际的小信号增益, 因为没有考虑输入电阻</span>
A_v <span class="token operator">=</span> A_1 <span class="token operator">.*</span> <span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">*</span>C_in<span class="token punctuation">)</span> <span class="token operator">.*</span> <span class="token function">MyParallel_n</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_1<span class="token punctuation">,</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>omega<span class="token operator">'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> R_2<span class="token punctuation">,</span> <span class="token number">1.</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1j</span><span class="token operator">*</span>omega<span class="token operator">'</span><span class="token operator">*</span>C_in<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
A_v_abs <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">;</span>
A_v_dB <span class="token operator">=</span> <span class="token number">20</span><span class="token operator">*</span><span class="token function">log</span><span class="token punctuation">(</span>A_v_abs<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">A_v</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
phase <span class="token operator">=</span> <span class="token function">rad2deg</span><span class="token punctuation">(</span><span class="token function">angle</span><span class="token punctuation">(</span>A_v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">%phase(phase &gt; 90) = phase(phase &gt; 90) - 360;</span>

stc <span class="token operator">=</span> <span class="token function">MyYYPlot</span><span class="token punctuation">(</span><span class="token punctuation">[</span>I_C<span class="token punctuation">;</span> I_C<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">10</span><span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>A_v_abs<span class="token punctuation">;</span> A_v_dB<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>x<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Collector Current $I_C$ (mA)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_left<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Gain $A_v$ (V/V)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>label<span class="token punctuation">.</span>y_right<span class="token punctuation">.</span>String <span class="token operator">=</span> <span class="token string">'Gain $A_v$ (dB)'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>leg<span class="token punctuation">.</span>Visible <span class="token operator">=</span> <span class="token string">'off'</span><span class="token punctuation">;</span>
stc<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>YLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">yyaxis</span><span class="token punctuation">(</span><span class="token string">'right'</span><span class="token punctuation">)</span>
stc<span class="token punctuation">.</span>axes<span class="token punctuation">.</span>YLim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
      </div>
      
      
    
    
    
    
    
    
  
    </body></html>