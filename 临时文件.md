## FATAL (SPECTRE-18): Segmentation fault.

2025.12.10 13:35 做后仿时又出现了这个问题，之前就遇到过 (当时就没找到解决方案)，放着不管之后，不知道为啥它莫名很久没出现，然后不知道为啥今天又出现了。这里详细记录一下问题出现的过程和报错信息，方便之后查找解决方案。

我们设置 Spectre X + CX (multi-thread = 8) 和 max jobs = 4 之后，先运行了一个 5.5 ms @ 1-point 的仿真 (占一个 job), 然后又运行了一个 15ms @ 32-point 的仿真，此时仿真器会先仿 32-point 中的前三个点 (占三个 job)，这样就一共占了四个 job，等前面有任务完成之后才会继续往后。第二天早上来一看，5.5 ms @ 1-point 这个稍短些的仿真顺利完成，但是 15ms @ 32-point 中的前三个点均出现错误。但又比较奇怪的是，15ms @ 32-point 中的 4th ~ 7th point 又顺利完成了 (在 1st ~ 3rd point 完成之后仿的 4th ~ 7th)

5.5 ms @ 1-point 这个稍短的仿真顺利完成：<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-12-10-13-56-11_202510_onc18_CPPLL_ultra_low_lower (4) Pre-Layout Simulation and Layout Details.png"/></div>

15ms @ 32-point 中的 1st ~ 3rd point 仿真报错环境如下：<div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-12-10-13-45-37_202510_onc18_CPPLL_ultra_low_lower (4) Pre-Layout Simulation and Layout Details.png"/></div>

看起来像是 1st point 仿真出错，同时导致了 2nd 和 3rd points 也中断，因为后两者的 log 没有给出任何报错： <div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-12-10-13-48-33_202510_onc18_CPPLL_ultra_low_lower (4) Pre-Layout Simulation and Layout Details.png"/></div>

仿真前设置了仅保存顶层节点，所以也没占多少内存/硬盘 (不到 1GB 内存)，所以也不是内存/硬盘大小的问题： <div class="center"><img src="https://imagebank-0.oss-cn-beijing.aliyuncs.com/VS-PicGo/2025-12-10-13-54-04_202510_onc18_CPPLL_ultra_low_lower (4) Pre-Layout Simulation and Layout Details.png"/></div>


Simulator log of the 1st point 中的具体报错内容如下：

``` bash
Internal error found in spectre at time = 647.25 us during transient analysis `tran'.

    FATAL (SPECTRE-19): Bus error signal received by Spectre. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem.    FATAL (SPECTRE-19): Bus error signal received by Spectre. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem.    FATAL (SPECTRE-19): Bus error signal received by Spectre. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem.

    FATAL (SPECTRE-18): Segmentation fault. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem. Encountered a critical error during simulation. Run `mmsimpack' (see mmsimpack -h for detailed usage information) to package the netlist and log files as a compressed tar file. Then, contact your Cadence representative or submit a service request via Cadence Online Support, including the tar file and any other information that could help identify the problem.
```
